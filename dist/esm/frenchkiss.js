/**
 * @license frenchkiss 0.0.6
 * Copyright (c) 2018-2019 Koala Interactive, Inc.
 * License: MIT
 */
const t=/^\s*\w+\s*$/,e=/^\s*(\w+)\s*,\s*(select|plural)\s*,/i,n=JSON.stringify,s=t=>'(p["'+t.trim()+'"]||"")';function l(t){const e={},l=function t(e,l){const o=[];const r=e.length;for(let c=0;c<r;++c){const r=e[c],f=r[0],u=r[1];let i="";if(0===f&&u)i=n(u);else if(1===f)i=s(u);else if(2===f){const e=r[2],s=r[3],o=r[4],c=s.length;for(let r=0;r<c;++r)o?"="===s[r][0][0]?i+='p["'+e+'"]=='+n(s[r][0].substr(1)):(l[e]=1,i+='m["'+e+'"]=='+n(s[r][0])):i+='p["'+e+'"]=='+n(s[r][0]),i+="?"+t(s[r][1],l)+":";i="("+i+t(u,l)+")"}i&&o.push(i)}return o.join("+")||'""'}(o(t),e),r=Object.keys(e),c=r.length,f=[];for(let t=0;t<c;++t)f[t]=r[t]+':f(p["'+r[t]+'"])';return Function("a","f","var p=a||{}"+(c?",m=f?{"+f+"}:{}":"")+";return "+l)}function o(n){let s=0,l="";const o=n.length,c=[];for(let f=0;f<o;++f){const o=n[f];let u;"{"===o?s++||(u=[0,l]):"}"===o&&(--s||(u=t.test(l)?[1,l]:e.test(l)?r(l):[0,l])),u?(c.push(u),l=""):l+=o}return c.push([0,l]),c}function r(t){const n=t.match(e),s=n[1],l="p"===n[2][0].toLowerCase(),r=o(t.replace(e,"")),c=r.length,f=[];let u=[0,""];for(let t=0;t<c-1;){let e=r[t++][1].trim();const n=o(r[t++][1]);"other"===e?u=n:f.push([e,n])}return[2,u,s,f,l]}const c={},f={};let u={},i="",p="",a=t=>t;const h=(t,e)=>(c[e]||(c[e]={}),!c[e][t]&&f[e]&&"string"==typeof f[e][t]&&(c[e][t]=l(f[e][t])),c[e][t]),g=(t,e,n)=>{let s,l=n||i;return l&&(s=h(t,l)),!s&&p&&(s=h(t,l=p)),s?s(e,u[l]):a(t)},d=t=>{a=t},m=t=>(t&&(i=t),i),y=t=>(t&&(p=t),p),b=(t,e)=>{c[t]={},f[t]=e},j=(t,e)=>{u[t]=e},k=(t,e)=>{f[t]||(f[t]={}),c[t]||(c[t]={});const n=Object.keys(e),s=n.length;for(let l=0;l<s;++l){const s=n[l];f[t][s]=e[s],delete c[t][s]}},w=t=>{delete c[t],delete f[t]};export default{cache:c,store:f,t:g,onMissingKey:d,locale:m,fallback:y,set:b,unset:w,extend:k,plural:j};export{c as cache,f as store,g as t,d as onMissingKey,m as locale,y as fallback,b as set,j as plural,k as extend,w as unset};
